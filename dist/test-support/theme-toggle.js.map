{"version":3,"file":"theme-toggle.js","sources":["../../src/test-support/theme-toggle.ts"],"sourcesContent":["import { assert } from \"@ember/debug\";\nimport { click, find } from \"@ember/test-helpers\";\n\nconst selectors = {\n  root: \"preem__site-theme-toggle\",\n  checkbox: '[name=\"color-scheme\"]',\n};\n\n/**\n * Test utility for interacting with the\n * ThemeToggle component.\n *\n * Simulates user behavior and provides high level functions so you don't need to worry about the DOM.\n *\n * Actual elements are not exposed, as the elements are private API.\n */\nexport function themeToggle(selector?: string) {\n  const root = `${selector ?? \"\"}${selectors.root}`;\n\n  return new ThemeToggle(root);\n}\n\nexport class ThemeToggle {\n  #root: string;\n\n  constructor(root: string) {\n    this.#root = root;\n  }\n\n  get #rootElement() {\n    const element = find(this.#root);\n\n    assert(\n      `Could not find the root element for the <ThemeToggle> component. Used the selector \\`${this.#root}\\`. Was it rendered?`,\n      element,\n    );\n\n    return element;\n  }\n\n  get #checkbox() {\n    const selector = this.#root + \" \" + selectors.checkbox;\n    const element = find(selector);\n\n    assert(\n      `Could not find the checkbox element for the <ThemeToggle> component. Used the selector \\`${this.#root}\\`. Was it rendered?`,\n      element,\n    );\n\n    return element;\n  }\n\n  async light() {\n    if (this.isLight) return;\n\n    await this.toggle();\n  }\n  async dark() {\n    if (this.isDark) return;\n\n    await this.toggle();\n  }\n\n  get current() {\n    const isDark = !!this.#checkbox.getAttribute(\"checked\");\n\n    return isDark ? \"dark\" : \"light\";\n  }\n\n  get isDark() {\n    return this.current === \"dark\";\n  }\n\n  get isLight() {\n    return this.current === \"light\";\n  }\n\n  async toggle() {\n    await click(this.#rootElement);\n  }\n}\n"],"names":["selectors","root","checkbox","themeToggle","selector","ThemeToggle","constructor","#rootElement","element","find","assert","#checkbox","light","isLight","toggle","dark","isDark","current","getAttribute","click"],"mappings":";;;AAGA,MAAMA,SAAS,GAAG;AAChBC,EAAAA,IAAI,EAAE,0BAA0B;AAChCC,EAAAA,QAAQ,EAAE;AACZ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,WAAWA,CAACC,QAAiB,EAAE;EAC7C,MAAMH,IAAI,GAAG,CAAA,EAAGG,QAAQ,IAAI,EAAE,CAAA,EAAGJ,SAAS,CAACC,IAAI,CAAA,CAAE;AAEjD,EAAA,OAAO,IAAII,WAAW,CAACJ,IAAI,CAAC;AAC9B;AAEO,MAAMI,WAAW,CAAC;AACvB,EAAA,KAAK;EAELC,WAAWA,CAACL,IAAY,EAAE;AACxB,IAAA,IAAI,CAAC,KAAK,GAAGA,IAAI;AACnB,EAAA;EAEA,IAAI,YAAYM,GAAG;IACjB,MAAMC,OAAO,GAAGC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IAEhCC,MAAM,CACJ,wFAAwF,IAAI,CAAC,KAAK,CAAA,oBAAA,CAAsB,EACxHF,OACF,CAAC;AAED,IAAA,OAAOA,OAAO;AAChB,EAAA;EAEA,IAAI,SAASG,GAAG;IACd,MAAMP,QAAQ,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAGJ,SAAS,CAACE,QAAQ;AACtD,IAAA,MAAMM,OAAO,GAAGC,IAAI,CAACL,QAAQ,CAAC;IAE9BM,MAAM,CACJ,4FAA4F,IAAI,CAAC,KAAK,CAAA,oBAAA,CAAsB,EAC5HF,OACF,CAAC;AAED,IAAA,OAAOA,OAAO;AAChB,EAAA;EAEA,MAAMI,KAAKA,GAAG;IACZ,IAAI,IAAI,CAACC,OAAO,EAAE;AAElB,IAAA,MAAM,IAAI,CAACC,MAAM,EAAE;AACrB,EAAA;EACA,MAAMC,IAAIA,GAAG;IACX,IAAI,IAAI,CAACC,MAAM,EAAE;AAEjB,IAAA,MAAM,IAAI,CAACF,MAAM,EAAE;AACrB,EAAA;EAEA,IAAIG,OAAOA,GAAG;AACZ,IAAA,MAAMD,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,SAAS,CAACE,YAAY,CAAC,SAAS,CAAC;AAEvD,IAAA,OAAOF,MAAM,GAAG,MAAM,GAAG,OAAO;AAClC,EAAA;EAEA,IAAIA,MAAMA,GAAG;AACX,IAAA,OAAO,IAAI,CAACC,OAAO,KAAK,MAAM;AAChC,EAAA;EAEA,IAAIJ,OAAOA,GAAG;AACZ,IAAA,OAAO,IAAI,CAACI,OAAO,KAAK,OAAO;AACjC,EAAA;EAEA,MAAMH,MAAMA,GAAG;AACb,IAAA,MAAMK,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC;AAChC,EAAA;AACF;;;;"}